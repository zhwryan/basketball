# 篮球视频分析系统

基于计算机视觉和深度学习的篮球视频智能分析系统，实现球员追踪、动作识别和比赛数据统计等功能。

## 主要功能

- 🏃‍♂️ **球员检测与追踪**：使用YOLOv8实时检测和追踪场上球员
- 🎯 **姿态分析**：基于OpenPose实现球员骨骼关键点检测和动作分析
- 🏀 **进球判定**：结合视觉分析和大语言模型判定投篮得分
- 📊 **数据统计**：自动统计球员得分、抢断等技术数据
- 🖥️ **可视化界面**：基于PyQt开发的用户友好操作界面

## 技术架构

- **计算机视觉**
  - YOLOv8：目标检测和追踪
  - OpenPose：人体姿态估计
  - OpenCV：图像处理

- **深度学习**
  - LLaVA：视觉语言模型
  - Deepseek：大语言模型

- **界面开发**
  - PyQt：图形用户界面

## 安装部署

1. 安装依赖
```bash
python -m venv .env
pip install -r requirements.txt
```

2. 下载模型文件
- 将YOLOv8模型文件放置在`assets/yolov8s.pt`
- 将OpenPose模型文件放置在`assets/pose_iter_440000.caffemodel`
- 将OpenPose配置文件放置在`assets/pose_deploy_linevec.prototxt`

3. 启动本地MONGO服务
```bash
docker-compose -f docker/docker-compose.yml up -d
```

## 使用说明

1. 启动图形界面
```bash
python -m gui.gui
```

2. 选择视频文件
- 点击「打开文件」按钮选择待分析的篮球视频
- 点击「打开目录」按钮选择分析结果输出目录

3. 查看分析结果
- 实时显示球员追踪和姿态分析结果
- 自动保存关键帧和统计数据
- 查看AI分析报告

## 项目结构

```
├── assets/          # 模型文件
├── docker/          # Docker配置
├── gui/             # 图形界面
├── src/             # 核心代码
│   ├── vision.py    # 视觉分析
│   ├── pure_vlm.py  # 视觉语言模型
│   └── analyze.py   # 数据分析
└── requirements.txt # 项目依赖
```

## 技术特点

1. **多模型协同**：结合目标检测、姿态估计和大语言模型，实现全面的视频分析

2. **实时处理**：优化的视频处理流程，支持实时分析和可视化

3. **模块化设计**：清晰的代码结构，便于扩展和维护

4. **智能分析**：利用视觉语言模型实现高级场景理解和数据分析

## 注意事项

- 视频分辨率建议不低于720p
- 确保本地MONGO服务正常运行
- 首次运行需下载相关模型文件
